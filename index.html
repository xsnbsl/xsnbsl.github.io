<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>晓杉引导页 | 新店开业福利</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #8b5cf6;
            --primary-dark: #7c3aed;
            --secondary: #ec4899;
            --accent: #06b6d4;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --dark-border: #334155;
            --light-text: #f1f5f9;
            --gray-text: #94a3b8;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: var(--dark-bg);
            color: var(--light-text);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        /* 头部区域 */
        .header {
            text-align: center;
            padding: 40px 20px;
            border-radius: 20px;
            margin-bottom: 40px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(30, 41, 59, 0.8) 100%);
            border: 1px solid var(--dark-border);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .logo-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }
        
        .logo-text {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .tagline {
            font-size: 1.1rem;
            color: var(--gray-text);
            max-width: 600px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        /* 主要内容区域 */
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
        
        /* 卡片样式 */
        .card {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--dark-border);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .card-title {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .card-title h2 {
            font-size: 1.8rem;
            color: var(--light-text);
        }
        
        .card-title i {
            color: var(--primary);
            font-size: 1.8rem;
        }
        
        /* 功能按钮 */
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .action-btn {
            padding: 18px 30px;
            font-size: 1.2rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            text-decoration: none;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 30px rgba(139, 92, 246, 0.5);
        }
        
        .btn-secondary {
            background: rgba(139, 92, 246, 0.1);
            color: var(--primary);
            border: 2px solid var(--primary);
        }
        
        .btn-secondary:hover {
            background: rgba(139, 92, 246, 0.2);
            transform: translateY(-3px);
        }
        
        /* 客服信息 */
        .support-section {
            margin-top: 30px;
            padding: 25px;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
            display: none;
        }
        
        .support-info {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .support-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.2) 0%, rgba(139, 92, 246, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary);
        }
        
        .qq-number {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--light-text);
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
        }
        
        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
        }
        
        .copy-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }
        
        /* 音乐播放器 */
        .music-player {
            background: var(--dark-card);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--dark-border);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .player-header h3 {
            font-size: 1.5rem;
            color: var(--light-text);
        }
        
        .player-status {
            color: var(--accent);
            font-weight: 600;
        }
        
        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .player-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--dark-border);
            width: 55px;
            height: 55px;
            border-radius: 50%;
            color: var(--light-text);
            font-size: 1.3rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .player-btn:hover {
            background: rgba(139, 92, 246, 0.2);
            border-color: var(--primary);
            transform: scale(1.1);
        }
        
        .play-btn {
            width: 65px;
            height: 65px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border: none;
        }
        
        .play-btn:hover {
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.5);
        }
        
        .progress-bar {
            height: 6px;
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin-bottom: 10px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: 10px;
            transition: width 0.1s linear;
        }
        
        .player-time {
            display: flex;
            justify-content: space-between;
            color: var(--gray-text);
            font-size: 0.9rem;
        }
        
        /* 音乐列表 */
        .music-list {
            margin-top: 30px;
            max-height: 280px;
            overflow-y: auto;
            padding-right: 5px;
        }
        
        .music-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.03);
        }
        
        .music-item:hover {
            background: rgba(255, 255, 255, 0.08);
        }
        
        .music-item.active {
            background: rgba(139, 92, 246, 0.15);
            border-left: 4px solid var(--primary);
        }
        
        .music-info {
            flex: 1;
        }
        
        .music-title {
            font-weight: 600;
            color: var(--light-text);
            margin-bottom: 5px;
        }
        
        .music-artist {
            font-size: 0.9rem;
            color: var(--gray-text);
        }
        
        .music-duration {
            font-size: 0.9rem;
            color: var(--gray-text);
        }
        
        /* 新店开业福利 */
        .promo-section {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.1) 0%, rgba(30, 41, 59, 0.8) 100%);
            border-radius: 16px;
            padding: 30px;
            margin-top: 40px;
            border: 1px solid rgba(236, 72, 153, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .promo-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .promo-header i {
            color: var(--secondary);
            font-size: 2rem;
        }
        
        .promo-header h3 {
            font-size: 1.8rem;
            color: var(--light-text);
        }
        
        .promo-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 30px;
        }
        
        @media (max-width: 768px) {
            .promo-content {
                flex-direction: column;
                text-align: center;
            }
        }
        
        .promo-text {
            flex: 1;
        }
        
        .promo-text h4 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--light-text);
        }
        
        .promo-text p {
            color: var(--gray-text);
            line-height: 1.6;
        }
        
        .promo-code {
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed var(--secondary);
            padding: 20px 30px;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--light-text);
            letter-spacing: 3px;
            text-align: center;
            min-width: 200px;
        }
        
        /* 页脚 */
        footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--gray-text);
            font-size: 0.9rem;
            border-top: 1px solid var(--dark-border);
            margin-top: 40px;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray-text);
            transition: all 0.3s ease;
        }
        
        .social-link:hover {
            background: var(--primary);
            color: white;
        }
        
        /* 滚动条样式 */
        .music-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .music-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .music-list::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }
        
        /* 音量控制 */
        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
        }
        
        .volume-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            outline: none;
        }
        
        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 头部区域 -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-mountain"></i>
                </div>
                <h1 class="logo-text">晓杉引导页</h1>
            </div>
            <p class="tagline">为您提供一站式购物与娱乐体验，新店开业惊喜不断，品质生活由此开始</p>
        </header>
        
        <div class="main-content">
            <!-- 左侧功能区域 -->
            <div class="card">
                <div class="card-title">
                    <i class="fas fa-rocket"></i>
                    <h2>快速通道</h2>
                </div>
                
                <div class="action-buttons">
                    <a href="https://shop.682fk.com/shop/xsnb" class="action-btn btn-primary" target="_blank" id="orderBtn">
                        <i class="fas fa-external-link-alt"></i>
                        前往下单地址
                    </a>
                    
                    <button class="action-btn btn-secondary" id="showQqBtn">
                        <i class="fab fa-qq"></i>
                        显示客服QQ
                    </button>
                </div>
                
                <!-- 客服信息展示 -->
                <div class="support-section" id="supportSection">
                    <div class="support-info">
                        <div class="support-icon">
                            <i class="fab fa-qq"></i>
                        </div>
                        <div>
                            <h3>客服QQ号码</h3>
                            <div class="qq-number" id="qqNumber">3980062019</div>
                        </div>
                    </div>
                    <button class="copy-btn" id="copyBtn">
                        <i class="far fa-copy"></i>
                        复制QQ号码
                    </button>
                </div>
            </div>
            
            <!-- 右侧音乐播放器 -->
            <div class="card music-player">
                <div class="card-title">
                    <i class="fas fa-headphones"></i>
                    <h2>背景音乐</h2>
                </div>
                
                <div class="player-header">
                    <h3 id="currentSong">放松时刻 - 轻音乐</h3>
                    <span class="player-status" id="playerStatus">已暂停</span>
                </div>
                
                <div class="player-controls">
                    <button class="player-btn" id="prevBtn">
                        <i class="fas fa-step-backward"></i>
                    </button>
                    <button class="player-btn play-btn" id="playBtn">
                        <i class="fas fa-play" id="playIcon"></i>
                    </button>
                    <button class="player-btn" id="nextBtn">
                        <i class="fas fa-step-forward"></i>
                    </button>
                </div>
                
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="player-time">
                    <span id="currentTime">0:00</span>
                    <span id="duration">0:00</span>
                </div>
                
                <div class="volume-control">
                    <i class="fas fa-volume-down"></i>
                    <input type="range" min="0" max="100" value="70" class="volume-slider" id="volumeSlider">
                    <i class="fas fa-volume-up"></i>
                </div>
                
                <div class="music-list" id="musicList">
                    <!-- 音乐列表将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
        
        <!-- 新店开业福利 -->
        <div class="promo-section">
            <div class="promo-header">
                <i class="fas fa-gift"></i>
                <h3>新店开业福利</h3>
            </div>
            
            <div class="promo-content">
                <div class="promo-text">
                    <h4>1分钱商品限时抢购！</h4>
                    <p>庆祝新店开业，我们推出限时福利活动！精选多款优质商品，仅需1分钱即可抢购。数量有限，先到先得，赶快前往下单吧！</p>
                    <p style="margin-top: 10px; color: var(--accent);"><i class="fas fa-clock"></i> 活动时间：即日起至月底</p>
                </div>
                <div class="promo-code">1分钱购</div>
            </div>
        </div>
        
        <footer>
            <p>© 2023 晓杉引导页 版权所有 | 高品质生活引导平台</p>
            <p style="margin-top: 10px; color: var(--gray-text);">享受购物，享受音乐，享受品质生活</p>
            
            <div class="social-links">
                <a href="#" class="social-link">
                    <i class="fab fa-weixin"></i>
                </a>
                <a href="#" class="social-link">
                    <i class="fab fa-qq"></i>
                </a>
                <a href="#" class="social-link">
                    <i class="fas fa-envelope"></i>
                </a>
                <a href="#" class="social-link">
                    <i class="fas fa-share-alt"></i>
                </a>
            </div>
        </footer>
    </div>

    <script>
        // =============== 购物功能部分 ===============
        document.addEventListener('DOMContentLoaded', function() {
            // 获取DOM元素
            const orderBtn = document.getElementById('orderBtn');
            const showQqBtn = document.getElementById('showQqBtn');
            const supportSection = document.getElementById('supportSection');
            const qqNumber = document.getElementById('qqNumber');
            const copyBtn = document.getElementById('copyBtn');
            
            // 前往下单地址
            orderBtn.addEventListener('click', function(e) {
                // 防止链接跳转（因为我们要打开新窗口）
                e.preventDefault();
                
                // 在新标签页打开下单地址
                window.open('https://shop.682fk.com/shop/xsnb', '_blank');
                
                // 按钮点击动画
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
            });
            
            // 显示客服QQ
            showQqBtn.addEventListener('click', function() {
                // 切换显示/隐藏
                if (supportSection.style.display === 'none') {
                    supportSection.style.display = 'block';
                    this.innerHTML = '<i class="fas fa-times"></i> 隐藏客服QQ';
                } else {
                    supportSection.style.display = 'none';
                    this.innerHTML = '<i class="fab fa-qq"></i> 显示客服QQ';
                }
                
                // 按钮点击动画
                this.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
            });
            
            // 复制QQ号码
            copyBtn.addEventListener('click', function() {
                const textToCopy = qqNumber.textContent;
                
                // 方法1：使用现代API
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        showCopySuccess(this);
                    }).catch(err => {
                        console.error('复制失败: ', err);
                        fallbackCopy(textToCopy, this);
                    });
                } else {
                    // 方法2：降级方案
                    fallbackCopy(textToCopy, this);
                }
            });
            
            // 显示复制成功提示
            function showCopySuccess(button) {
                const originalText = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> 已复制';
                button.style.background = '#10b981';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '';
                }, 2000);
            }
            
            // 降级复制方案
            function fallbackCopy(text, button) {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.left = '-999999px';
                textArea.style.top = '-999999px';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        showCopySuccess(button);
                    } else {
                        alert('复制失败，请手动复制：' + text);
                    }
                } catch (err) {
                    console.error('复制失败: ', err);
                    alert('复制失败，请手动复制：' + text);
                } finally {
                    document.body.removeChild(textArea);
                }
            }
            
            // =============== 音乐播放器部分 ===============
            // 创建音频对象
            const audio = new Audio();
            
            // 获取DOM元素
            const musicListElement = document.getElementById('musicList');
            const playBtn = document.getElementById('playBtn');
            const playIcon = document.getElementById('playIcon');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const progressBar = document.getElementById('progressBar');
            const progress = document.getElementById('progress');
            const currentTimeEl = document.getElementById('currentTime');
            const durationEl = document.getElementById('duration');
            const currentSongEl = document.getElementById('currentSong');
            const playerStatus = document.getElementById('playerStatus');
            const volumeSlider = document.getElementById('volumeSlider');
            
            // 音乐数据 - 使用可靠的免版权音乐
            const songs = [
                {
                    title: "放松时刻",
                    artist: "轻音乐精选",
                    duration: "0:30",
                    url: "https://assets.codepen.io/4358584/Star.mp3"
                },
                {
                    title: "深夜氛围",
                    artist: "氛围音乐",
                    duration: "0:30",
                    url: "https://assets.codepen.io/4358584/Sky.mp3"
                },
                {
                    title: "雨夜沉思",
                    artist: "纯音乐",
                    duration: "0:30",
                    url: "https://assets.codepen.io/4358584/City.mp3"
                },
                {
                    title: "星辰大海",
                    artist: "电子音乐",
                    duration: "0:30",
                    url: "https://assets.codepen.io/4358584/Lightyear.mp3"
                }
            ];
            
            let currentSongIndex = 0;
            let isPlaying = false;
            let progressInterval;
            
            // 初始化音乐列表
            function initMusicList() {
                musicListElement.innerHTML = '';
                
                songs.forEach((song, index) => {
                    const musicItem = document.createElement('div');
                    musicItem.className = 'music-item';
                    if (index === currentSongIndex) {
                        musicItem.classList.add('active');
                    }
                    musicItem.dataset.index = index;
                    
                    musicItem.innerHTML = `
                        <div class="music-info">
                            <div class="music-title">${song.title}</div>
                            <div class="music-artist">${song.artist}</div>
                        </div>
                        <div class="music-duration">${song.duration}</div>
                    `;
                    
                    musicItem.addEventListener('click', function() {
                        const index = parseInt(this.dataset.index);
                        if (index !== currentSongIndex) {
                            currentSongIndex = index;
                            loadSong();
                            updateCurrentSong();
                            if (isPlaying) {
                                playSong();
                            }
                        }
                    });
                    
                    musicListElement.appendChild(musicItem);
                });
            }
            
            // 加载歌曲
            function loadSong() {
                const song = songs[currentSongIndex];
                audio.src = song.url;
                audio.load();
                resetProgress();
                updateCurrentSong();
            }
            
            // 更新当前歌曲显示
            function updateCurrentSong() {
                const song = songs[currentSongIndex];
                currentSongEl.textContent = `${song.title} - ${song.artist}`;
                durationEl.textContent = song.duration;
                
                // 更新活动状态
                document.querySelectorAll('.music-item').forEach((item, index) => {
                    if (index === currentSongIndex) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }
            
            // 格式化时间
            function formatTime(seconds) {
                if (isNaN(seconds)) return "0:00";
                const min = Math.floor(seconds / 60);
                const sec = Math.floor(seconds % 60);
                return `${min}:${sec < 10 ? '0' : ''}${sec}`;
            }
            
            // 播放歌曲
            function playSong() {
                audio.play().then(() => {
                    isPlaying = true;
                    updatePlayerUI(true);
                    startProgressUpdate();
                }).catch(error => {
                    console.log('播放失败，可能用户未交互:', error);
                    // 提示用户点击播放按钮
                    playerStatus.textContent = '点击播放按钮';
                    playerStatus.style.color = '#ef4444';
                });
            }
            
            // 暂停歌曲
            function pauseSong() {
                audio.pause();
                isPlaying = false;
                updatePlayerUI(false);
                stopProgressUpdate();
            }
            
            // 更新播放器UI
            function updatePlayerUI(playing) {
                if (playing) {
                    playIcon.className = 'fas fa-pause';
                    playerStatus.textContent = '播放中';
                    playerStatus.style.color = '#10b981';
                } else {
                    playIcon.className = 'fas fa-play';
                    playerStatus.textContent = '已暂停';
                    playerStatus.style.color = '#94a3b8';
                }
            }
            
            // 开始更新进度
            function startProgressUpdate() {
                stopProgressUpdate();
                progressInterval = setInterval(updateProgress, 1000);
                updateProgress(); // 立即更新一次
            }
            
            // 停止更新进度
            function stopProgressUpdate() {
                if (progressInterval) {
                    clearInterval(progressInterval);
                    progressInterval = null;
                }
            }
            
            // 更新进度条
            function updateProgress() {
                if (!isNaN(audio.duration) && !isNaN(audio.currentTime)) {
                    const progressPercent = (audio.currentTime / audio.duration) * 100;
                    progress.style.width = `${progressPercent}%`;
                    currentTimeEl.textContent = formatTime(audio.currentTime);
                }
            }
            
            // 重置进度条
            function resetProgress() {
                progress.style.width = '0%';
                currentTimeEl.textContent = '0:00';
            }
            
            // 下一首
            function nextSong() {
                currentSongIndex = (currentSongIndex + 1) % songs.length;
                loadSong();
                if (isPlaying) {
                    playSong();
                }
            }
            
            // 上一首
            function prevSong() {
                currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
                loadSong();
                if (isPlaying) {
                    playSong();
                }
            }
            
            // 点击进度条跳转
            progressBar.addEventListener('click', function(e) {
                if (!audio.duration) return;
                
                const rect = this.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const percent = clickX / width;
                
                audio.currentTime = percent * audio.duration;
                updateProgress();
            });
            
            // 音量控制
            volumeSlider.addEventListener('input', function() {
                audio.volume = this.value / 100;
            });
            
            // 播放/暂停按钮
            playBtn.addEventListener('click', function() {
                if (isPlaying) {
                    pauseSong();
                } else {
                    // 如果还没有加载歌曲，先加载
                    if (!audio.src) {
                        loadSong();
                    }
                    playSong();
                }
            });
            
            // 上一首/下一首按钮
            prevBtn.addEventListener('click', prevSong);
            nextBtn.addEventListener('click', nextSong);
            
            // 音频事件监听
            audio.addEventListener('loadedmetadata', function() {
                durationEl.textContent = formatTime(audio.duration);
            });
            
            audio.addEventListener('ended', function() {
                nextSong();
            });
            
            audio.addEventListener('error', function(e) {
                console.error('音频错误:', e);
                playerStatus.textContent = '加载失败';
                playerStatus.style.color = '#ef4444';
                
                // 如果当前歌曲加载失败，尝试下一首
                setTimeout(() => {
                    if (currentSongIndex < songs.length - 1) {
                        nextSong();
                    }
                }, 2000);
            });
            
            // 键盘快捷键
            document.addEventListener('keydown', function(e) {
                // 空格键播放/暂停
                if (e.code === 'Space') {
                    e.preventDefault();
                    if (isPlaying) {
                        pauseSong();
                    } else {
                        if (!audio.src) {
                            loadSong();
                        }
                        playSong();
                    }
                }
                
                // 数字键1：前往下单地址
                if (e.key === '1') {
                    orderBtn.click();
                }
                
                // 数字键2：显示客服QQ
                if (e.key === '2') {
                    showQqBtn.click();
                }
                
                // 左箭头上一首
                if (e.code === 'ArrowLeft') {
                    prevSong();
                }
                
                // 右箭头下一首
                if (e.code === 'ArrowRight') {
                    nextSong();
                }
            });
            
            // 初始化音乐播放器
            initMusicList();
            loadSong();
            
            // 设置初始音量
            audio.volume = volumeSlider.value / 100;
            
            // 页面加载完成
            console.log('页面加载完成，所有功能已初始化');
            
            // 添加一个提示，让用户知道音乐可以播放
            setTimeout(() => {
                playerStatus.textContent = '点击播放按钮开始';
                playerStatus.style.color = '#06b6d4';
            }, 1000);
        });
    </script>
</body>
</html>